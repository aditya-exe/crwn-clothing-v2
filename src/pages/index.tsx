import type { NextPage } from "next";
import Head from "next/head";
import TopNavigation from "@/components/top-navigation";
import CollectionCard from "@/components/collection-card";
import { useSession } from "next-auth/react";
import SHOP_DATA from "@/server/router/routes/data.js";
import { trpc } from "@/utils/trpc";
import ShopItemType from "@/types/shop-item-type";

const Home: NextPage = (props) => {
  const { data: session } = useSession();
  // const fill = trpc.useMutation(["shop.fill-data"]);

  // const go = (e: any) => {
  //   SHOP_DATA.forEach(collection => {
  //     const routeName = collection.routeName;
  //     let x: { routeName: string; itemId: number; name: string; imageUrl: string; price: number; }[] = [];
  //     collection.items.forEach(item => {
  //       const xxx = {
  //         itemId: item.id,
  //         name: item.name,
  //         imageUrl: item.imageUrl,
  //         price: item.price,
  //         routeName: routeName,
  //       };
  //       x.push(xxx);
  //     })
  //     fill.mutate(x);
  //   })
  // }

  return (
    <>
      <Head>
        <title>CRWN Clothing</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main>
        <TopNavigation />
        {/* <button onClick={(e) => go(e)}>XXXXX</button> */}
        <div className="mb-6" />
        <div className="flex flex-wrap justify-around">
          <CollectionCard collection={"mens"} imageUrl={"https://i.ibb.co/R70vBrQ/men.png"} />
          <CollectionCard collection={"womens"} imageUrl={"https://i.ibb.co/GCCdy8t/womens.png"} />
        </div>
        <div className="mt-5" />
        <div className="flex flex-wrap justify-around">
          <CollectionCard collection={"jackets"} imageUrl={"https://i.ibb.co/px2tCc3/jackets.png"} />
          <CollectionCard collection={"sneakers"} imageUrl={"https://i.ibb.co/0jqHpnp/sneakers.png"} />
          <CollectionCard collection={"hats"} imageUrl={"https://i.ibb.co/cvpntL1/hats.png"} />
        </div>

      </main>
    </>
  );
};

export default Home;